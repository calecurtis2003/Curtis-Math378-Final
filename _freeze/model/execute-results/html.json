{
  "hash": "6a7c5acaf02789dfac6d871059e6f8ce",
  "result": {
    "engine": "jupyter",
    "markdown": "\\-\\--\n\ntitle: \"Model\"\n\nformat:\n\nhtml:\n\ncode-fold: true\n\n\\-\\--\n\n::: {#8c49e408 .cell execution_count=1}\n``` {.python .cell-code}\nfrom palmerpenguins import penguins\nfrom pandas import get_dummies\nimport numpy as np\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn import preprocessing\n## Model.qmd\n# Chapter 1\n## Get Data\n\ndf = penguins.load_penguins().dropna()\n\ndf.head(3)\n\n\n## Define Model and Fit\n\nX = get_dummies(df[['bill_length_mm', 'species', 'sex']], drop_first = True)\ny = df['body_mass_g']\n\nmodel = LinearRegression().fit(X, y)\n\n## Get some information\n\nprint(f\"R^2 {model.score(X,y)}\")\nprint(f\"Intercept {model.intercept_}\")\nprint(f\"Columns {X.columns}\")\nprint(f\"Coefficients {model.coef_}\")\n# Chapter 2\nimport pins\n \nfrom vetiver import VetiverModel\nfrom vetiver import vetiver_pin_write \nfrom vetiver import VetiverAPI\nv = VetiverModel(model, model_name='penguin_model', prototype_data=X)\n\nb = pins.board_folder('data/model', allow_pickle_read=True)\n\nvetiver_pin_write(b, v, 'penguin_model')\n\nv = VetiverModel.from_pin(b, 'penguin_model')\n\napp = VetiverAPI(v, check_prototype=True)\n#idk what to do with this code\n#app.run(port = 8080)\n\n\n# Chapter 6\n#from vetiver import prepare_docker\n#prepare_docker(board = b,pin_name = 'penguin_model')\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nR^2 0.8555368759537614\nIntercept 2169.2697209393973\nColumns Index(['bill_length_mm', 'species_Chinstrap', 'species_Gentoo', 'sex_male'], dtype='object')\nCoefficients [  32.53688677 -298.76553447 1094.86739145  547.36692408]\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nModel Cards provide a framework for transparent, responsible reporting. \n Use the vetiver `.qmd` Quarto template as a place to start, \n with vetiver.model_card()\nWriting pin:\nName: 'penguin_model'\nVersion: 20240417T152530Z-82872\n```\n:::\n:::\n\n\n",
    "supporting": [
      "model_files\\figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}